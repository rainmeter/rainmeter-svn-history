[Rainmeter]
Author=poiru
AppVersion=1002000
Update=1000
MouseActionCursor=0
MiddleMouseDownAction=!RainmeterDeactivateConfig
BackgroundMode=1

[Metadata]
Name=Gnometer: MSN Weather (Popup)
Config=Gnometer | Weather | MSN Weather
Description=Shows the weather conditions
Version=1.0.0
Tags=Weather
License=Creative Commons Attribution-Non-Commercial-Share Alike 3.0

[Variables]
@Include=..\..\SETTINGS\Variables.inc

; MEASURES

[MeasureWeather]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=1800
Url=http://weather.msn.com/RSS.aspx?wealocations=wc:#weather.Zip#&weadegreetype=#weather.Unit#
RegExp="(?siU)<link>(.*)</link>.*src=".*/(\d+).gif".* title="(.*)".*\. (.*)&.*src=".*".* title="(.*)".*Lo: (.*)&.*Hi: (.*)&.*src=".*".* title="(.*)".*Lo: (.*)&.*Hi: (.*)&.*s">(.*)</a>.*src=".*".* title="(.*)".*Lo: (.*)&.*Hi: (.*)&.*s">(.*)</a>.*src=".*".* title="(.*)".*Lo: (.*)&.*Hi: (.*)&.*s">(.*)</a>.*src=".*".* title="(.*)".*Lo: (.*)&.*Hi: (.*)&"
StringIndex=1

[MeasureCIcon]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=2
Substitute="":"3200"

[MeasureCText]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=3
Substitute="":"N/A"

[MeasureCTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=4
Substitute="":"0"

[MeasureF0Text]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=5
Substitute="":"N/A"

[MeasureF0LoTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=6
Substitute="":"0"

[MeasureF0HiTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=7
Substitute="":"0"

[MeasureF1Text]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=8
Substitute="":"N/A"

[MeasureF1LoTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=9
Substitute="":"0"

[MeasureF1HiTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=10
Substitute="":"0"

[MeasureF2Day]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=11
Substitute="":"N/A"

[MeasureF2Text]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=12
Substitute="":"N/A"

[MeasureF2LoTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=13
Substitute="":"0"

[MeasureF2HiTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=14
Substitute="":"0"

[MeasureF3Day]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=15
Substitute="":"N/A"

[MeasureF3Text]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=16
Substitute="":"N/A"

[MeasureF3LoTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=17
Substitute="":"0"

[MeasureF3HiTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=18
Substitute="":"0"

[MeasureF4Day]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=19
Substitute="":"N/A"

[MeasureF4Text]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=20
Substitute="":"N/A"

[MeasureF4LoTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=21
Substitute="":"0"

[MeasureF4HiTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeather]
StringIndex=22
Substitute="":"0"

; STYLES

@Include2=..\..\SETTINGS\style#Style#.inc

[PopupStyle]
Hidden=0

[TextLeftStyle]
Hidden=0

[TextRightStyle]
Text="%1, %2° to %3°"
Hidden=0

[SeperatorStyle]
Hidden=0

; METERS

[Line]
Meter=IMAGE
MeterStyle=LineStyle

[Icon]
Meter=IMAGE
MeterStyle=IconStyle
MeasureName=MeasureCIcon
Path=..\
LeftMouseUpAction=[MeasureWeather]
MouseActionCursor=1

[Title]
Meter=STRING
MeterStyle=TitleStyle
Text=Weather

[Subtitle]
Meter=STRING
MeterStyle=SubtitleStyle
MeasureName=MeasureCText
MeasureName2=MeasureCTemp
Text="%1. %2°"

; Popup

[Popup]
Meter=IMAGE
MeterStyle=PopupStyle
H=((#h.Other#*5)+30)

; Weather

[Today]
Meter=STRING
MeterStyle=TextLeftStyle
Y=5r
Text=Today

[TodayTemp]
Meter=STRING
MeterStyle=TextRightStyle
MeasureName=MeasureF0Text
MeasureName2=MeasureF0LoTemp
MeasureName3=MeasureF0HiTemp

[Seperator1]
Meter=IMAGE
MeterStyle=SeperatorStyle

[Forecast1]
Meter=STRING
MeterStyle=TextLeftStyle
Y=5r
Text=Tomorrow

[Forecast1Temp]
Meter=STRING
MeterStyle=TextRightStyle
MeasureName=MeasureF1Text
MeasureName2=MeasureF1LoTemp
MeasureName3=MeasureF1HiTemp

[Seperator2]
Meter=IMAGE
MeterStyle=SeperatorStyle

[Forecast2]
Meter=STRING
MeterStyle=TextLeftStyle
MeasureName=MeasureF2Day
Y=5r

[Forecast2Temp]
Meter=STRING
MeterStyle=TextRightStyle
MeasureName=MeasureF2Text
MeasureName2=MeasureF2LoTemp
MeasureName3=MeasureF2HiTemp

[Seperator3]
Meter=IMAGE
MeterStyle=SeperatorStyle

[Forecast3]
Meter=STRING
MeterStyle=TextLeftStyle
MeasureName=MeasureF3Day
Y=5r

[Forecast3Temp]
Meter=STRING
MeterStyle=TextRightStyle
MeasureName=MeasureF3Text
MeasureName2=MeasureF3LoTemp
MeasureName3=MeasureF3HiTemp

[Seperator4]
Meter=IMAGE
MeterStyle=SeperatorStyle

[Forecast4]
Meter=STRING
MeterStyle=TextLeftStyle
MeasureName=MeasureF4Day
Y=5r

[Forecast4Temp]
Meter=STRING
MeterStyle=TextRightStyle
MeasureName=MeasureF4Text
MeasureName2=MeasureF4LoTemp
MeasureName3=MeasureF4HiTemp

[Seperator5]
Meter=IMAGE
MeterStyle=SeperatorStyle

; Gap

[Gap]
Meter=IMAGE
MeterStyle=GapStyle